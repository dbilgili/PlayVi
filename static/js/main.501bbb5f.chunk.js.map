{"version":3,"sources":["components/views/LoadingPage.js","components/views/FrontPage.js","components/TextInput.js","components/NavigationButtons.js","components/LoadingBar.js","components/views/CreateParty.js","components/views/JoinParty.js","components/ReactSwipe.js","components/TabMenu.js","components/InfoIndicator.js","components/views/PlayList.js","components/SearchBar.js","components/views/AddSong.js","components/SlidingMenu.js","components/views/PartyScreen.js","utilities/CookieUtils.js","components/views/AboutPage.js","components/views/HowToPage.js","App.js","index.js","assets/images/cross.png","assets/images/more.png","assets/images/search.png"],"names":["LoadingPage","react_default","a","createElement","className","FrontPage","props","screen","type","onClick","TextInput","placeholder","getField","validate","pattern","maxlength","isAlert","onChange","onReturnKeyPress","invalidMessage","invalidValue","initialValue","textField","useRef","_useState","useState","_useState2","Object","slicedToArray","input","setInput","useEffect","Boolean","length","spellCheck","ref","maxLength","e","target","value","defaultValue","onKeyDown","keyCode","current","blur","defaultProps","NavigationButtons","backAction","nextAction","leftButton","rightButton","LoadingBar","CreateParty","createPlaylist","playlistData","loading","nickname","setNickname","_useState3","_useState4","isFieldValid","setIsFieldValid","_useState5","_useState6","alert","setAlert","fieldValidation","components_TextInput","val","components_NavigationButtons","components_LoadingBar","JoinParty","joinParty","isPinValid","clearParty","initialPin","partyPin","setPartyPin","areFieldsValid","setAreFieldsValid","_useState7","_useState8","alertArray","setAlertArray","_useState9","_useState10","partyPinError","setPartyPinError","prevState","ReactSwipe","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","containerEl","React","createRef","swipeOptions","swipe","Swipe","kill","undefined","getPos","getNumSlides","_this$swipe","slide","apply","arguments","next","prev","_this$props","id","style","children","concat","container","wrapper","Children","map","child","childStyle","objectSpread","cloneElement","PureComponent","overflow","visibility","position","height","float","width","transitionProperty","childCount","TabMenu","moreButton","tabPos","tab","setTab","tabSwitch","alt","src","more","info","isOpen","setIsOpen","isSeen","setIsSeen","close","document","querySelector","classList","add","remove","localStorage","getItem","left","top","ReactDOM","createPortal","react_transition_group","in","timeout","classNames","unmountOnExit","role","tabIndex","stopPropagation","ReactHtmlParser","setItem","body","PlayList","userRole","_props$playlistData","accessLink","spotifyName","pin","creator","songs","firebaseAuth","firebaseDatabase","songId","index","removeStatus","setRemoveStatus","playlistNameInfo","partyPinInfo","removeSong","_ref","asyncToGenerator","regenerator_default","mark","_callee","songReference","wrap","_context","t0","console","log","stop","_x","isValidToDelete","creatorId","userId","currentUser","uid","songItem","item","key","albumCoverUrl","name","artists","artist","artistIndex","username","backgroundImage","cross","backgroundPosition","backgroundSize","backgroundRepeat","songRemoveButton","duration","song","millis","minutes","Math","floor","seconds","toFixed","millisToHoursAndMinutesAndSeconds","totalSongDuration","contributorList","forEach","includes","push","totalContributors","data-scroll-lock-scrollable","InfoIndicator","href","SearchBar","onClear","inputEl","songName","setSongName","search","focus","loaderTimeout","AddSong","addSongTimeOut","response","setResponse","isPlaying","setIsPlaying","showSongLoading","setShowSongLoading","readyToPlay","setReadyToPlay","_useState11","_useState12","noResult","setNoResult","_useState13","_useState14","addingSong","setAddingSong","_useDebounce","useDebounce","inputDebounced","functions","getFunctions","getApp","searchSongsCall","httpsCallableFromURL","refEl","getSong","q","limit","offset","then","result","data","tracks","items","scrollTop","addSongToPlaylist","_ref2","_callee2","addSongData","_context2","timestamp","Date","now","set","getDatabase","setTimeout","_x2","onCanPlayThrough","clearTimeout","togglePreview","isSongExisting","some","preview_url","album","images","url","debouncedAddSong","paddingLeft","autoPlay","onEnded","components_SearchBar","onScroll","SlidingMenu","exit","PartyScreen","reactSwipeEl","setTabPos","toggleMore","setToggleMore","components_SlidingMenu","removeItem","components_TabMenu","components_ReactSwipe","continuous","callback","views_PlayList","views_AddSong","AboutPage","rel","App","setScreen","setLoading","setInitialPin","setPlaylistData","setIsPinValid","firebaseApp","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","databaseURL","getAuth","createPlaylistCall","unsubscribePlaylist","signInAnonymouslyWithNickname","subscribePlaylist","catch","playlistPin","playlistReference","get","snapshot","exists","entries","payload","filter","_x3","signOut","disablePageScroll","queryString","window","location","substring","split","parseQueryString","vh","innerHeight","documentElement","setProperty","addEventListener","preventDefault","_ref3","_callee3","userCredential","_context3","signInAnonymously","sent","updateProfile","user","displayName","_x4","_ref4","_callee4","_context4","onValue","_x5","views_LoadingPage","views_FrontPage","views_CreateParty","views_JoinParty","views_PartyScreen","views_AboutPage","HowToPage","render","src_App","getElementById","module","exports"],"mappings":"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","file":"static/js/main.501bbb5f.chunk.js","sourcesContent":["import React from 'react';\n\nconst LoadingPage = () => (\n  <div className=\"loading-page-container\">\n    <div className=\"page-loader\">\n      <span />\n      <span />\n      <span />\n    </div>\n    <p>loading</p>\n  </div>\n);\n\nexport default LoadingPage;\n","import React from 'react';\n\nconst FrontPage = (props) => {\n  const { screen } = props;\n\n  return (\n    <div className=\"front-page-container\">\n      <div className=\"logo\">PlayVi</div>\n      <button\n        type=\"button\"\n        className=\"big-text-button\"\n        onClick={() => screen('create')}\n      >\n        Start a party\n      </button>\n      <button\n        type=\"button\"\n        className=\"big-text-button\"\n        onClick={() => screen('join')}\n      >\n        Join to a party\n      </button>\n      <button\n        type=\"button\"\n        className=\"small-text-button\"\n        onClick={() => screen('about')}\n      >\n        About\n      </button>\n      <button\n        type=\"button\"\n        className=\"small-text-button\"\n        onClick={() => screen('how-to')}\n      >\n        How to use\n      </button>\n    </div>\n  );\n};\n\nexport default FrontPage;\n","import React, { useState, useEffect, useRef } from 'react';\n\nconst TextInput = (props) => {\n  const {\n    placeholder,\n    getField,\n    validate,\n    pattern,\n    maxlength,\n    isAlert,\n    onChange,\n    onReturnKeyPress,\n    invalidMessage,\n    invalidValue,\n    initialValue,\n  } = props;\n\n  const textField = useRef(null);\n\n  const [input, setInput] = useState(initialValue);\n\n  const onChangeHandler = (e) => {\n    setInput(e.target.value);\n    onChange();\n  };\n\n  useEffect(() => {\n    getField(input);\n    validate(Boolean(input.length));\n  }, [input]);\n\n  const handleKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      textField.current.blur();\n      onReturnKeyPress();\n    }\n  };\n\n  return (\n    <div className=\"custon-text-input-wrapper\">\n      <input\n        spellCheck={false}\n        ref={textField}\n        type=\"text\"\n        maxLength={maxlength}\n        pattern={pattern}\n        className={isAlert ? 'custom-text-input alert' : 'custom-text-input'}\n        placeholder={placeholder}\n        onChange={onChangeHandler}\n        defaultValue={initialValue}\n        onKeyDown={handleKeyPress}\n      />\n      {invalidValue && <span>{invalidMessage}</span>}\n    </div>\n  );\n};\n\nTextInput.defaultProps = {\n  maxLength: 15,\n  onChange: () => {},\n  invalidValue: false,\n  invalidMessage: '',\n  initialValue: '',\n};\n\nexport default TextInput;\n","import React from 'react';\n\nconst NavigationButtons = (props) => {\n  const {\n    backAction, nextAction, leftButton, rightButton,\n  } = props;\n\n  return (\n    <div className=\"navigation-buttons-container\">\n      <button\n        type=\"button\"\n        className=\"big-text-button\"\n        onClick={backAction}\n      >\n        {leftButton}\n      </button>\n      <button\n        type=\"button\"\n        className=\"big-text-button\"\n        onClick={nextAction}\n      >\n        {rightButton}\n      </button>\n    </div>\n  );\n};\n\nexport default NavigationButtons;\n","import React from 'react';\n\nconst LoadingBar = () => (\n  <div className=\"linear-progress small\">\n    <div className=\"bar bar1\" />\n    <div className=\"bar bar2\" />\n  </div>\n);\n\nexport default LoadingBar;\n","import React, { useEffect, useState } from 'react';\n\nimport TextInput from '../TextInput';\nimport NavigationButtons from '../NavigationButtons';\nimport LoadingBar from '../LoadingBar';\n\nconst CreateParty = (props) => {\n  const {\n    screen, createPlaylist, playlistData, loading,\n  } = props;\n  const [nickname, setNickname] = useState('');\n  const [isFieldValid, setIsFieldValid] = useState(false);\n  const [alert, setAlert] = useState(false);\n\n  const fieldValidation = () => {\n    if (isFieldValid) {\n      createPlaylist(nickname);\n    } else {\n      setAlert(true);\n    }\n  };\n\n  useEffect(() => {\n    if (nickname.length) {\n      setAlert(false);\n    }\n  }, [nickname]);\n\n  useEffect(() => {\n    if (playlistData !== null) {\n      screen('admin');\n    } else {\n      // server error\n    }\n  }, [playlistData]);\n\n  return (\n    <div className=\"create-party-container\">\n      <TextInput\n        getField={val => setNickname(val)}\n        placeholder=\"Nickname\"\n        validate={val => setIsFieldValid(val)}\n        isAlert={alert}\n        onReturnKeyPress={loading ? null : fieldValidation}\n      />\n      <p className=\"info-text\">Pick a nickname which will appear below the songs you add to the playlist.</p>\n      <p className=\"info-text\">Note that the party is going to expire after 7 days.</p>\n      <NavigationButtons\n        leftButton='Back'\n        rightButton='Create'\n        backAction={() => screen('frontpage')}\n        nextAction={loading ? null : fieldValidation}\n      />\n      {loading && <LoadingBar />}\n    </div>\n  );\n};\n\nexport default CreateParty;\n","import React, { useEffect, useState } from 'react';\n\nimport TextInput from '../TextInput';\nimport NavigationButtons from '../NavigationButtons';\nimport LoadingBar from '../LoadingBar';\n\nconst JoinParty = (props) => {\n  const {\n    screen, joinParty, isPinValid, loading, clearParty, initialPin,\n  } = props;\n  const [nickname, setNickname] = useState('');\n  const [partyPin, setPartyPin] = useState(initialPin);\n  const [areFieldsValid, setAreFieldsValid] = useState([false, false]);\n  const [alertArray, setAlertArray] = useState([false, false]);\n  const [partyPinError, setPartyPinError] = useState(false);\n\n  useEffect(() => {\n    if (isPinValid !== null && !isPinValid) {\n      setPartyPinError(true);\n    }\n  }, [isPinValid]);\n\n  const fieldValidation = () => {\n    if (areFieldsValid[0] && areFieldsValid[1]) {\n      joinParty(partyPin, nickname);\n    } else {\n      setAlertArray([!areFieldsValid[0], !areFieldsValid[1]]);\n    }\n  };\n\n  const goBack = () => {\n    screen('frontpage');\n    clearParty();\n  };\n\n  useEffect(() => {\n    if (partyPin.length) {\n      setAlertArray(prevState => [false, prevState[1]]);\n    }\n    if (nickname.length) {\n      setAlertArray(prevState => [prevState[0], false]);\n    }\n  }, [partyPin, nickname]);\n\n  useEffect(() => {\n    if (initialPin !== '') {\n      setAreFieldsValid([true, false]);\n    }\n    return setPartyPinError(false);\n  }, []);\n\n  return (\n    <div className=\"join-party-container\">\n      <div className=\"text-field-wrapper\">\n        <TextInput\n          getField={val => setPartyPin(val)}\n          placeholder=\"PARTY PIN\"\n          initialValue={partyPin}\n          pattern=\"\\d*\"\n          validate={val => setAreFieldsValid([val, areFieldsValid[1]])}\n          isAlert={alertArray[0]}\n          maxlength={4}\n          invalidValue={partyPinError}\n          invalidMessage=\"Invalid PIN\"\n          onChange={() => setPartyPinError(false)}\n        />\n        <TextInput\n          getField={val => setNickname(val)}\n          placeholder=\"Nickname\"\n          validate={val => setAreFieldsValid([areFieldsValid[0], val])}\n          isAlert={alertArray[1]}\n          onReturnKeyPress={loading ? null : fieldValidation}\n        />\n      </div>\n      <p className=\"info-text\">Pick a nickname which will appear below the songs you add to the playlist.</p>\n      <NavigationButtons\n        leftButton='Back'\n        rightButton='Join'\n        backAction={goBack}\n        nextAction={loading ? null : fieldValidation}\n      />\n      {loading && <LoadingBar />}\n    </div>\n  );\n};\n\nexport default JoinParty;\n","import React, { PureComponent } from 'react';\nimport Swipe from 'swipe-js-iso';\n\nclass ReactSwipe extends PureComponent {\n  static defaultProps = {\n    swipeOptions: {},\n    style: {\n      container: {\n        overflow: 'hidden',\n        visibility: 'hidden',\n        position: 'relative',\n      },\n      wrapper: {\n        overflow: 'hidden',\n        position: 'relative',\n        height: '100%',\n      },\n      child: {\n        float: 'left',\n        width: '100%',\n        position: 'relative',\n        transitionProperty: 'transform',\n      },\n    },\n    className: '',\n    childCount: 0,\n  };\n\n  constructor() {\n    super();\n    this.containerEl = React.createRef();\n  }\n\n  componentDidMount() {\n    const { swipeOptions } = this.props;\n    this.swipe = Swipe(this.containerEl.current, swipeOptions);\n  }\n\n  componentWillUnmount() {\n    this.swipe.kill();\n    this.swipe = undefined;\n  }\n\n  getPos() {\n    return this.swipe.getPos();\n  }\n\n  getNumSlides() {\n    return this.swipe.getNumSlides();\n  }\n\n  slide(...args) {\n    this.swipe.slide(...args);\n  }\n\n  next() {\n    this.swipe.next();\n  }\n\n  prev() {\n    this.swipe.prev();\n  }\n\n  render() {\n    const {\n      id, className, style, children,\n    } = this.props;\n\n    return (\n      <div\n        id={id}\n        ref={this.containerEl}\n        className={`react-swipe-container ${className}`}\n        style={style.container}\n      >\n        <div style={style.wrapper}>\n          {React.Children.map(children, (child) => {\n            if (!child) {\n              return null;\n            }\n\n            const childStyle = child.props.style\n              ? { ...style.child, ...child.props.style }\n              : style.child;\n\n            return React.cloneElement(child, { style: childStyle });\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ReactSwipe;\n","import React, { useState } from 'react';\n\nimport more from '../assets/images/more.png';\n\nconst TabMenu = (props) => {\n  const {\n    moreButton,\n    next,\n    prev,\n    tabPos,\n  } = props;\n\n  const [tab, setTab] = useState(0);\n\n  const tabSwitch = (type) => {\n    if (type === 'next') {\n      setTab(1);\n      next();\n    } else if (type === 'prev') {\n      setTab(0);\n      prev();\n    }\n  };\n\n  if (tab === 0 && tabPos === 1) {\n    setTab(1);\n  } else if (tab === 1 && tabPos === 0) {\n    setTab(0);\n  }\n\n  return (\n    <div className=\"tab-menu-container\">\n      <button\n        type=\"button\"\n        className=\"tab-button\"\n        onClick={() => tabSwitch('prev')}\n      >\n        Playlist\n      </button>\n      <button\n        type=\"button\"\n        className=\"tab-button\"\n        onClick={() => tabSwitch('next')}\n      >\n        Add Songs\n      </button>\n      <button\n        type=\"button\"\n        className=\"more-button\"\n        onClick={() => moreButton()}\n      >\n        <img alt=\"more\" src={more} />\n      </button>\n      <span className={tab ? 'underline slide' : 'underline'} />\n    </div>\n  );\n};\n\nexport default TabMenu;\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/accessible-emoji */\nimport React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { CSSTransition } from 'react-transition-group';\nimport ReactHtmlParser from 'react-html-parser';\n\nconst LoadingBar = (props) => {\n  const {\n    id,\n    info,\n  } = props;\n\n  const [isOpen, setIsOpen] = useState(false);\n  const [isSeen, setIsSeen] = useState(false);\n\n  const close = () => {\n    setIsOpen(prevState => !prevState);\n  };\n\n  const gotIt = () => {\n    setIsOpen(prevState => !prevState);\n    setIsSeen(true);\n    localStorage.setItem(`seen-${id}`, true);\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      document.querySelector('.root').classList.add('blur');\n    } else {\n      document.querySelector('.root').classList.remove('blur');\n    }\n  }, [isOpen]);\n\n  useEffect(() => {\n    if (localStorage.getItem(`seen-${id}`)) {\n      setIsSeen(true);\n    }\n  });\n\n  return (\n    <div className=\"info-indicator-container\">\n      <button\n        type=\"button\"\n        className={isSeen ? 'attention-indicator remove-animation' : 'attention-indicator'}\n        onClick={close}\n        style={{ left: `${-30}px`, top: `${2}px` }}\n      >\n          i\n      </button>\n      {ReactDOM.createPortal(\n        <CSSTransition\n          in={isOpen}\n          timeout={350}\n          classNames=\"front-page-container\"\n          unmountOnExit\n        >\n          <div\n            role=\"button\"\n            tabIndex=\"0\"\n            className=\"info-modal-container\"\n            onClick={close}\n          >\n            <div\n              role=\"button\"\n              tabIndex=\"0\"\n              className=\"info-modal\"\n              onClick={e => e.stopPropagation()}\n            >\n              {ReactHtmlParser(info)}\n              <button\n                type=\"button\"\n                className=\"close-button\"\n                onClick={gotIt}\n              >\n                <span role=\"img\">üëçüèª</span>\n              </button>\n            </div>\n          </div>\n        </CSSTransition>,\n        document.body,\n      )}\n    </div>\n  );\n};\n\nexport default LoadingBar;\n","import React, { useState, useEffect } from 'react';\n\nimport InfoIndicator from '../InfoIndicator';\n\nimport cross from '../../assets/images/cross.png';\nimport { ref, remove} from 'firebase/database'\n\nconst PlayList = (props) => {\n  const {\n    userRole,\n    playlistData: {\n      accessLink, spotifyName, pin, creator\n    },\n    songs,\n    firebaseAuth,\n    firebaseDatabase,\n    // copyAccessLink,\n  } = props;\n\n  const [removeStatus, setRemoveStatus] = useState({ songId: null, index: null });\n\n  const playlistNameInfo = `\n    <p>\n      <span style=\"color: #49DA8B\">${spotifyName}</span> is the auto-generated Spotify playlist for your party.\n    </p>\n    <p>\n      Songs added will appear both under the Playlist tab and the actual playlist in Spotify.\n    </p>\n    <p>\n      Tap on the playlist name to open it with Spotify or tap and hold to copy the link to the playlist.\n    </p>\n  `;\n\n  const partyPinInfo = `\n    <p>\n      <span style=\"color: #49DA8B\">${pin}</span> is the PIN code to join to the party you have created.\n    </p>\n    <p>\n      Share this PIN code with people so that they can contribute to your party playlist.\n    </p>\n  `;\n\n  const millisToHoursAndMinutesAndSeconds = (millis) => {\n    let hours = 0;\n    let minutes = Math.floor(millis / 60000);\n    const seconds = ((millis % 60000) / 1000).toFixed(0);\n    if (minutes > 60) {\n      minutes %= 60;\n      hours = 60 / 60;\n      return `${hours}:${minutes < 10 ? '0' : ''}${minutes} hours`;\n    }\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds} minutes`;\n  };\n\n  const totalSongDuration = () => {\n    let duration = 0;\n    songs.map((song) => {\n      duration += song.duration;\n      return null;\n    });\n    return millisToHoursAndMinutesAndSeconds(duration);\n  };\n\n  const totalContributors = () => {\n    const contributorList = [];\n\n    songs.forEach((song) => {\n      if (!contributorList.includes(song.creator.username)) {\n        contributorList.push(song.creator.username);\n      }\n    });\n\n    return contributorList.length > 1\n      ? `${contributorList.length} contributors`\n      : `${contributorList.length} contributor`;\n  };\n\n  const removeSong = async (songId) => {\n    try {\n\n      const songReference = ref(firebaseDatabase, `playlist/${pin}/songs/${songId}`);\n      await remove(songReference);\n\n    } catch (e) {\n      setRemoveStatus({ songId: null, index: null });\n      console.log(e);\n    }\n  };\n\n  const isValidToDelete = (creatorId) => {\n    const userId = firebaseAuth.currentUser.uid;\n\n    if (userId) {\n      if (creator.id === userId) {\n        return true;\n      } else {\n        return userId === creatorId;\n      }\n    }\n    return null;\n  };\n\n  useEffect(() => {\n    if (removeStatus.songId !== null) {\n      removeSong(removeStatus.songId);\n    }\n  }, [removeStatus]);\n\n  useEffect(() => {\n    setRemoveStatus({ songId: null, index: null });\n  }, [songs]);\n\n  const songRemoveButton = (creatorId, songId, index) => {\n    if (isValidToDelete(creatorId)) {\n      if (removeStatus.index === index) {\n        return <span className=\"spinner\" />;\n      } else {\n        return (\n          <button\n            type=\"button\"\n            className=\"delete-button\"\n            onClick={() => setRemoveStatus({ songId, index })}\n            style={{\n              backgroundImage: `url(${cross})`,\n              backgroundPosition: 'center',\n              backgroundSize: '14px 14px',\n              backgroundRepeat: 'no-repeat',\n            }}\n          />\n        );\n      }\n    }\n    return null;\n  };\n\n  const songItem = (item, index) => (\n    <div\n      key={item.id}\n      className=\"song-wrapper\"\n    >\n      <img\n        alt=\"album-cover\"\n        className=\"album-cover\"\n        src={item.albumCoverUrl}\n      />\n      <div className={isValidToDelete(item.creator.id) ? 'text-info short-ellipsis' : 'text-info'}>\n        <p>{item.name}</p>\n        <p>\n          {item.artists.map((artist, artistIndex) => (\n            <span key={artist.id}>{artistIndex !== item.artists.length - 1 ? `${artist.name}, ` : artist.name}</span>))}\n        </p>\n        <p>{item.creator.username ? `Added by ${item.creator.username}` : \"\"}</p>\n      </div>\n      {songRemoveButton(item.creator.id, item.id, index)}\n    </div>\n  );\n\n  if (songs.length) {\n    return (\n      <div className=\"play-list-container\">\n        <div className=\"play-list-stats\">\n          <span>{songs.length > 1 ? `${songs.length} songs` : `${songs.length} song`}</span>\n          <span>  -  </span>\n          <span>{totalSongDuration()}</span>\n          <span>  |  </span>\n          <span>{totalContributors()}</span>\n        </div>\n        <div\n          className=\"playlist-songs-container\"\n          data-scroll-lock-scrollable\n        >\n          {songs.map((song, index) => songItem(song, index))}\n        </div>\n        <div className=\"transparent-gradient\" />\n      </div>\n    );\n  } else {\n    switch (userRole) {\n      case 'participant':\n        return (\n          <div className=\"play-list-container center\">\n            <p>\n            The playlist is empty.\n              <br />\n            Start adding songs to the playlist.\n            </p>\n          </div>\n        );\n      case 'admin':\n        return (\n          <div className=\"play-list-container center\">\n            <div className=\"playlist-name\">\n              <span>\n                <InfoIndicator id={1} info={playlistNameInfo} />\n                PLAYLIST NAME\n              </span>\n              <br />\n              <span>\n                <a\n                  target='_new'\n                  className=\"playlist-link\"\n                  href={accessLink}\n                >\n                  {spotifyName}\n                </a>\n              </span>\n              <br />\n              <span>Click on the playlist name to open it in Spotify.</span>\n            </div>\n            <span className=\"dashed-separator\" />\n            <div className=\"party-pin\">\n              <span style={{ position: 'relative' }}>\n                <InfoIndicator id={2} info={partyPinInfo} />\n                PARTY PIN\n              </span>\n              <br />\n              <span>{pin}</span>\n              <br />\n              <span>Share this with your friends.</span>\n            </div>\n          </div>\n        );\n      default:\n        return null;\n    }\n  }\n};\n\nexport default PlayList;\n","import React, { useState, useRef } from 'react';\nimport search from '../assets/images/search.png';\nimport cross from '../assets/images/cross.png';\n\nconst SearchBar = (props) => {\n  const { onChange, onClear, placeholder } = props;\n\n  const inputEl = useRef('');\n\n  const [songName, setSongName] = useState('');\n\n  const handleChange = (e) => {\n    setSongName(e.target.value);\n    onChange(e.target.value);\n  };\n\n  const clearInput = () => {\n    setSongName('');\n    onChange('');\n    onClear();\n    inputEl.current.value = '';\n    inputEl.current.focus();\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      inputEl.current.blur();\n    }\n  };\n\n  return (\n    <div className=\"search-bar-container\">\n      <input\n        spellCheck={false}\n        type=\"text\"\n        ref={inputEl}\n        className=\"custom-search-bar\"\n        placeholder={placeholder}\n        onChange={handleChange}\n        onKeyDown={handleKeyPress}\n        style={{\n          backgroundImage: `url(${search})`,\n          backgroundPosition: '10px center',\n          backgroundSize: '18px 18px',\n          backgroundRepeat: 'no-repeat',\n        }}\n      />\n      {Boolean(songName.length) && (\n      <button\n        type=\"button\"\n        className=\"delete-button\"\n        onClick={clearInput}\n        style={{\n          backgroundImage: `url(${cross})`,\n          backgroundPosition: 'center',\n          backgroundSize: '14px 14px',\n          backgroundRepeat: 'no-repeat',\n        }}\n      />\n      )}\n    </div>\n  );\n};\n\nexport default SearchBar;\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/media-has-caption */\nimport React, { useState, useEffect, useRef } from 'react';\n\nimport { getFunctions, httpsCallableFromURL } from \"firebase/functions\";\nimport { getApp } from \"firebase/app\";\n\nimport { useDebounce } from 'use-debounce';\n\nimport SearchBar from '../SearchBar';\nimport { getDatabase, ref, set } from 'firebase/database'\n\nlet loaderTimeout = null;\n\nconst AddSong = (props) => {\n  const { pin, songs, firebaseAuth } = props;\n\n  const [songName, setSongName] = useState('');\n  const [response, setResponse] = useState([]);\n  const [isPlaying, setIsPlaying] = useState({ id: null });\n  const [showSongLoading, setShowSongLoading] = useState(false);\n  const [readyToPlay, setReadyToPlay] = useState(false);\n  const [noResult, setNoResult] = useState(false);\n  const [addingSong, setAddingSong] = useState({ id: null, index: null });\n  const [inputDebounced] = useDebounce(songName, 300);\n\n  const functions = getFunctions(getApp(), \"europe-west1\");\n  const searchSongsCall = httpsCallableFromURL(\n    functions,\n    \"https://searchsongs-dclj74qtzq-ew.a.run.app/searchsongs\"\n  );\n\n  let addSongTimeOut;\n\n  const refEl = useRef(null);\n\n  const getSong = async (input) => {\n    try {\n      searchSongsCall({ q: input, limit:50, offset:0})\n        .then((result) => {\n          // Read result of the Cloud Function.\n          const data = result.data;\n          setResponse(data.tracks.items);\n          if (!data.tracks.items.length) {\n            setNoResult(true);\n          }\n          refEl.current.scrollTop = 0;\n        });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const addSongToPlaylist = async (songId) => {\n\n    try {\n      const currentUser = firebaseAuth.currentUser;\n      const addSongData = {\n        creator: {\n          id: currentUser.uid,\n        },\n        timestamp: Date.now(),\n      };\n\n      await set(ref(getDatabase(), `playlist/${pin}/songs/${songId}`), addSongData);\n\n      setTimeout(() => setAddingSong({ id: null, index: null }), 100);\n    } catch (e) {\n      setAddingSong({ id: null, index: null });\n      console.log(e);\n    }\n  };\n\n  const onCanPlayThrough = () => {\n    setReadyToPlay(true);\n    setShowSongLoading(false);\n    clearTimeout(loaderTimeout);\n  };\n\n  const handleSongLoadingSpinner = () => {\n    loaderTimeout = setTimeout(() => setShowSongLoading(true), 200);\n  };\n\n  const togglePreview = (id) => {\n    setReadyToPlay(false);\n    if (isPlaying.id === id) {\n      setIsPlaying({ id: null });\n      setShowSongLoading(false);\n    } else {\n      setIsPlaying({ id });\n      handleSongLoadingSpinner();\n    }\n  };\n\n  useEffect(() => {\n    if (inputDebounced.length) {\n      try {\n        getSong(inputDebounced);\n      } catch (e) {\n        console.log(e);\n      }\n    } else {\n      setResponse([]);\n    }\n  }, [inputDebounced]);\n\n  const detectScroll = () => {\n    document.querySelector('.custom-search-bar').blur();\n  };\n\n  const debouncedAddSong = (id, index) => {\n    if (isPlaying.id === id) {\n      togglePreview(id);\n    }\n    clearTimeout(addSongTimeOut);\n\n    addSongTimeOut = setTimeout(() => {\n      setAddingSong({ id, index });\n    }, 200);\n  };\n\n  useEffect(() => {\n    if (addingSong.id !== null) {\n      addSongToPlaylist(addingSong.id);\n    }\n  }, [addingSong]);\n\n  useEffect(() => {\n    setReadyToPlay(false);\n    setIsPlaying({ id: null });\n  }, [songName]);\n\n  const isSongExisting = songId => songs.some(e => e.id === songId);\n\n  const song = (item, index) => (\n    <div\n      key={item.id}\n      className=\"song-wrapper\"\n    >\n      <button\n        type=\"button\"\n        className={item.preview_url ? 'album-cover' : 'album-cover no-click'}\n        onClick={() => togglePreview(item.id)}\n      >\n        {(isPlaying.id === item.id && readyToPlay)\n          && (\n          <div className=\"circle\">\n            <div className=\"square\" />\n          </div>\n          )}\n        {item.preview_url\n          && (\n            <div className=\"preview-indicator\">\n              {(isPlaying.id === item.id && showSongLoading) && <span className=\"spinner mini\" />}\n              <div className=\"arrow\" />\n            </div>\n          )}\n        <img\n          alt=\"album-cover\"\n          className={(isPlaying.id === item.id && readyToPlay) ? 'playing' : null}\n          src={item.album.images.length ? item.album.images[1].url : null}\n        />\n      </button>\n      <div\n        type=\"button\"\n        className={addingSong.index === index ? 'text-info short-ellipsis' : 'text-info'}\n        onClick={isSongExisting(item.id) ? null : () => debouncedAddSong(item.id, index)}\n      >\n        <p\n          className={isSongExisting(item.id) ? 'greyed-out' : undefined}\n          style={item.preview_url && { paddingLeft: '17px' }}\n        >\n          {item.name}\n        </p>\n        <p className={isSongExisting(item.id) ?'greyed-out' : undefined}>\n          {item.artists.map((artist, artistIndex) => (\n            <span key={artist.id}>{artistIndex !== item.artists.length - 1 ? `${artist.name}, ` : artist.name}</span>))}\n        </p>\n        <div className={(isPlaying.id === item.id && readyToPlay) ? 'playing-song-bar playing' : 'playing-song-bar'} />\n        {isPlaying.id === item.id && (\n          <audio\n            src={item.preview_url}\n            autoPlay\n            onCanPlayThrough={onCanPlayThrough}\n            onEnded={togglePreview}\n          />\n        )}\n      </div>\n      {addingSong.index === index && <span className=\"spinner\" />}\n    </div>\n  );\n\n  return (\n    <div className=\"add-song-container\">\n      <SearchBar\n        placeholder='Search a song'\n        onChange={setSongName}\n        onClear={() => setNoResult(false)}\n      />\n      <div\n        ref={refEl}\n        className=\"songs-container\"\n        onScroll={detectScroll}\n        data-scroll-lock-scrollable\n      >\n        {songName.length\n          ? response.map((item, index) => song(item, index))\n          : (\n            <span className=\"add-song-message\">\n              Add a new song to playlist\n            </span>\n          )}\n        {noResult && (\n          <span className=\"add-song-message\">\n            No matching result\n          </span>\n        )}\n      </div>\n      <div className=\"transparent-gradient\" />\n    </div>\n  );\n};\n\nexport default AddSong;\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React from 'react';\n\nimport cross from '../assets/images/cross.png';\n\nconst SlidingMenu = (props) => {\n  const {\n    close,\n    exit,\n    // copyAccessLink,\n    playlistData: {\n      accessLink,\n      spotifyName,\n      pin,\n    },\n  } = props;\n\n  return (\n    <div\n      role=\"button\"\n      tabIndex=\"0\"\n      className=\"sliding-menu-container\"\n      onClick={e => e.stopPropagation()}\n    >\n      <div\n        className=\"cover\"\n        onClick={close}\n        role=\"button\"\n        tabIndex=\"0\"\n      />\n      <div className=\"vertical-wrapper\">\n        <div className=\"inner-wrapper\">\n          <p className=\"header\">Playlist Name</p>\n          <a className=\"text\" href={accessLink}>{spotifyName}</a>\n        </div>\n        <div className=\"inner-wrapper\">\n          <p className=\"header\">Party PIN</p>\n          <p className=\"text\">{pin}</p>\n        </div>\n        <div className=\"inner-wrapper-bottom\">\n          {/* <button type=\"button\" onClick={copyAccessLink}>Access Link</button> */}\n          <button type=\"button\" onClick={exit}>Leave the party</button>\n        </div>\n      </div>\n      <button type=\"button\" className=\"close-button\" onClick={close}>\n        <img alt=\"more\" src={cross} />\n      </button>\n    </div>\n  );\n};\n\nexport default SlidingMenu;\n","import React, {useState, useRef, useEffect} from 'react';\n\nimport { CSSTransition } from 'react-transition-group';\n\nimport ReactSwipe from '../ReactSwipe';\nimport TabMenu from '../TabMenu';\nimport PlayList from './PlayList';\nimport AddSong from './AddSong';\nimport SlidingMenu from '../SlidingMenu';\nimport {clearSession } from '../../utilities/CookieUtils';\n\nconst PartyScreen = (props) => {\n  const {\n    screen, userRole, playlistData, clearParty,firebaseDatabase,firebaseAuth,\n  } = props;\n\n  const reactSwipeEl = useRef(null);\n\n  const [tabPos, setTabPos] = useState(0);\n  const [toggleMore, setToggleMore] = useState(false);\n\n  const detectChange = () => {\n    setTabPos(reactSwipeEl.current.getPos());\n    document.querySelector('.custom-search-bar').blur();\n  };\n\n  const leaveParty = () => {\n    screen('frontpage');\n    clearSession();\n  };\n\n  /*\n  const copyAccessLink = () => {\n    const url = process.env.REACT_APP_URL;\n    navigator.clipboard.writeText(`${url}/?pin=${playlistData.pin}`);\n  };\n  */\n\n  useEffect(() => {\n    return () => {\n      clearParty();\n    };\n  }, []);\n\n  return (\n    <div\n      className=\"party-screen-container\"\n      onClick={() => toggleMore && setToggleMore(prev => !prev)}\n    >\n      <CSSTransition\n        in={toggleMore}\n        timeout={250}\n        classNames=\"sliding-menu\"\n        unmountOnExit\n      >\n        <SlidingMenu\n          close={() => setToggleMore(prev => !prev)}\n          // copyAccessLink={copyAccessLink}\n          exit={leaveParty}\n          playlistData={playlistData}\n        />\n      </CSSTransition>\n      <TabMenu\n        moreButton={() => setToggleMore(prev => !prev)}\n        next={() => reactSwipeEl.current.next()}\n        prev={() => reactSwipeEl.current.prev()}\n        tabPos={tabPos}\n      />\n      <ReactSwipe\n        key=\"swipe\"\n        className={toggleMore ? 'carousel blur' : 'carousel'}\n        swipeOptions={{ continuous: false, callback: detectChange }}\n        ref={reactSwipeEl}\n      >\n        <PlayList\n          userRole={userRole}\n          playlistData={playlistData}\n          songs={playlistData.songs  || []}\n          firebaseDatabase={firebaseDatabase}\n          firebaseAuth={firebaseAuth}\n          /* copyAccessLink={copyAccessLink} */\n        />\n        <AddSong\n          pin={playlistData.pin}\n          songs={playlistData.songs || []}\n          firebaseAuth={firebaseAuth}\n        />\n      </ReactSwipe>\n    </div>\n  );\n};\n\nexport default PartyScreen;\n","export const getSession = () => {\n  const value = localStorage.getItem('SESSION');\n  return { Authorization: value };\n};\n\nexport const clearSession = () => localStorage.removeItem('SESSION');\n\nexport const setSession = res => localStorage.setItem('SESSION', res.headers.authorization);\n","import React from 'react';\nimport NavigationButtons from '../NavigationButtons';\n\nconst AboutPage = (props) => {\n  const { screen } = props;\n\n  return (\n    <div className=\"about-page-container\">\n      <p>\n        <b className=\"app-name\">PlayVi</b>\n        {' '}\n      makes it easy to collaborate on Spotify playlists mainly for home parties where several people get involved and want to have control on the songs to be played during the event.\n      </p>\n      <p>\n      Even people who don‚Äôt have a Spotify account can still decide what to be played next!\n      </p>\n      <NavigationButtons\n        leftButton='Back'\n        backAction={() => screen('frontpage')}\n      />\n    </div>\n  );\n};\n\nexport default AboutPage;\n","import React from 'react';\nimport NavigationButtons from '../NavigationButtons';\n\nconst AboutPage = (props) => {\n  const { screen } = props;\n\n  return (\n    <div className=\"how-to-page-container\">\n      <ul>\n        <li>Start a party.</li>\n        <li>Share the party pin & app link with people before the actual party.</li>\n        <li>Wait for people to add songs.</li>\n        <li>When the party day comes, click the playlist name to open & play it in Spotify.</li>\n      </ul>\n      <p>\n        For more information refer to\n        {' '}\n        <a\n          href=\"https://github.com/dbilgili/PlayVi/blob/master/README.md\"\n          rel=\"noopener noreferrer\"\n          target=\"_blank\"\n        >\n          README\n        </a>\n        {' '}\n          file of the Github repo.\n      </p>\n\n      <NavigationButtons\n        leftButton='Back'\n        backAction={() => screen('frontpage')}\n      />\n    </div>\n  );\n};\n\nexport default AboutPage;\n","import React, { useEffect, useState } from 'react';\n\nimport { CSSTransition } from 'react-transition-group';\nimport { disablePageScroll } from 'scroll-lock';\nimport { getApp, initializeApp } from 'firebase/app'\nimport {getAuth, signInAnonymously, signOut} from \"firebase/auth\";\nimport { getDatabase, ref, onValue, get} from \"firebase/database\";\n\nimport LoadingPage from './components/views/LoadingPage';\nimport FrontPage from './components/views/FrontPage';\nimport CreateParty from './components/views/CreateParty';\nimport JoinParty from './components/views/JoinParty';\nimport PartyScreen from './components/views/PartyScreen';\nimport AboutPage from './components/views/AboutPage';\nimport HowToPage from './components/views/HowToPage';\n\nimport './assets/stylus/global.css';\nimport {updateProfile} from \"@firebase/auth\";\nimport { getFunctions, httpsCallableFromURL } from 'firebase/functions'\n\n\nconst App = () => {\n  const [screen, setScreen] = useState('loading');\n  const [loading, setLoading] = useState(false);\n  const [initialPin, setInitialPin] = useState('');\n  const [playlistData, setPlaylistData] = useState(null);\n  const [isPinValid, setIsPinValid] = useState(null);\n\n  const firebaseConfig = {\n    apiKey: \"AIzaSyDxDlBDqLsuFgwEWi9hUO0ebOeC3XyUIEc\",\n    authDomain: \"playvi.firebaseapp.com\",\n    projectId: \"playvi\",\n    storageBucket: \"playvi.appspot.com\",\n    messagingSenderId: \"815991548965\",\n    appId: \"1:815991548965:web:7565c1da50cad0e46a63cc\",\n    databaseURL: \"https://playvi-default-rtdb.europe-west1.firebasedatabase.app\"\n  };\n\n  const firebaseApp = initializeApp(firebaseConfig);\n  const firebaseDatabase = getDatabase(firebaseApp);\n  const firebaseAuth = getAuth();\n\n  const functions = getFunctions(getApp(), \"europe-west1\");\n  const createPlaylistCall = httpsCallableFromURL(\n    functions,\n    \"https://createplaylist-dclj74qtzq-ew.a.run.app/createplaylist\"\n  );\n\n  let unsubscribePlaylist = () => { // TODO how should this function be set?\n  }\n\n  const parseQueryString = () => {\n    const queryString = window.location.search.substring(1).split('=');\n    const key = queryString[0];\n    const pin = queryString[1];\n\n    setTimeout(() => {\n      if (key === 'pin' && pin !== undefined) {\n        setInitialPin(pin);\n        setScreen('join');\n      } else {\n        setScreen('frontpage');\n      }\n    }, 500);\n  };\n\n  const createPlaylist = async (nickname) => {\n    setLoading(true);\n\n    await signInAnonymouslyWithNickname(nickname);\n\n    createPlaylistCall()\n      .then((response) => {\n        const playlistData = response.data;\n        setPlaylistData(playlistData);\n        setScreen('admin');\n        setLoading(false);\n        subscribePlaylist(playlistData.pin);\n      }).catch(() => {\n      setLoading(false);\n    });\n  };\n\n  const joinParty = async (playlistPin, nickname) => {\n    setLoading(true);\n    setIsPinValid(null);\n\n    await signInAnonymouslyWithNickname(nickname);\n\n    const playlistReference = ref(firebaseDatabase, 'playlist/' + playlistPin);\n    get(playlistReference).then((snapshot) => {\n          if (!snapshot.exists()) {\n              setIsPinValid(false);\n              setLoading(false);\n          } else {\n              const playlistData = snapshot.val();\n\n            // TODO any better way?\n            if(playlistData.songs) {\n              playlistData.songs = Object.entries(playlistData.songs)\n                .map(payload => payload[1])\n                .filter(song => song.name);\n            }\n\n              setPlaylistData(playlistData);\n              setScreen('participant');\n              setLoading(false);\n\n              subscribePlaylist(playlistPin);\n          }\n      }).catch(() => {\n          setLoading(false);\n      });\n  };\n\n  const clearParty = () => {\n      console.log(unsubscribePlaylist);\n      signOut(firebaseAuth);\n      unsubscribePlaylist();\n      setPlaylistData(null);\n  }\n\n  useEffect(() => {\n    disablePageScroll(null);\n    parseQueryString();\n\n    const vh = window.innerHeight * 0.01;\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\n    document.addEventListener('gesturestart', e => e.preventDefault());\n  }, []);\n\n  const signInAnonymouslyWithNickname = async (nickname)  => {\n      const userCredential = await signInAnonymously(firebaseAuth);\n      await updateProfile(userCredential.user, {displayName: nickname})\n  }\n\n  const subscribePlaylist = async (playlistPin) => {\n    const playlistReference = ref(firebaseDatabase, 'playlist/' + playlistPin);\n    unsubscribePlaylist = onValue(playlistReference, (snapshot) => {\n          if(!snapshot.exists()) {\n              clearParty();\n          } else {\n              const playlistData = snapshot.val();\n              // TODO any better way?\n            if(playlistData.songs) {\n              playlistData.songs = Object.entries(playlistData.songs)\n                .map(payload =>  payload[1])\n                .filter(song => song.name);\n            }\n\n            console.log(playlistData.songs);\n\n            setPlaylistData(playlistData);\n          }\n    });\n\n  }\n\n  return (\n    <div className=\"App\">\n      {screen === 'loading' && <LoadingPage />}\n      <CSSTransition\n        in={screen === 'frontpage'}\n        timeout={350}\n        classNames=\"front-page-container\"\n        unmountOnExit\n      >\n        <FrontPage screen={type => setScreen(type)} />\n      </CSSTransition>\n      <CSSTransition\n        in={screen === 'create'}\n        timeout={350}\n        classNames=\"join-party-container\"\n        unmountOnExit\n      >\n        <CreateParty\n          screen={type => setScreen(type)}\n          loading={loading}\n          clearParty={clearParty}\n          createPlaylist={createPlaylist}\n          playlistData={playlistData}\n        />\n      </CSSTransition>\n      <CSSTransition\n        in={screen === 'join'}\n        timeout={350}\n        classNames=\"join-party-container\"\n        unmountOnExit\n      >\n        <JoinParty\n          screen={type => setScreen(type)}\n          loading={loading}\n          clearParty={clearParty}\n          joinParty={joinParty}\n          isPinValid={isPinValid}\n          initialPin={initialPin}\n        />\n      </CSSTransition>\n      <CSSTransition\n        in={screen === 'admin' || screen === 'participant'}\n        timeout={350}\n        classNames=\"join-party-container\"\n        unmountOnExit\n      >\n        <PartyScreen\n          screen={type => setScreen(type)}\n          clearParty={clearParty}\n          userRole={screen}\n          playlistData={playlistData}\n          firebaseDatabase={firebaseDatabase}\n          firebaseAuth={firebaseAuth}\n        />\n      </CSSTransition>\n      <CSSTransition\n        in={screen === 'about'}\n        timeout={350}\n        classNames=\"join-party-container\"\n        unmountOnExit\n      >\n        <AboutPage\n          screen={type => setScreen(type)}\n        />\n      </CSSTransition>\n      <CSSTransition\n        in={screen === 'how-to'}\n        timeout={350}\n        classNames=\"join-party-container\"\n        unmountOnExit\n      >\n        <HowToPage\n          screen={type => setScreen(type)}\n        />\n      </CSSTransition>\n    </div>\n  );\n};\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFOSURBVHgB7dvLDcIwEIThiAoohf4v0AGlUMIPiFgKQVEe3vWOV4yUG9bOh/I6OMMwC3B+HdfXcRk6ybvr2Pm89sM37s4njx6QI+4xdr4vImc4ekDOcCwiF3DSyAXcL3IFJ4lcwX0j+VycWyKB3Igrue1dEIo83JUOkNUdEUaadUMQad4JIaRbFwSQ7h0IRDabHYFsPrPlQKLOmhaDib7uPQsgcFNzK4IKzqMQajjLYqjiLAqijqsp2g2uAtkPrmQnsi9ciSFSD1digNTFlVQg9XElB5BuuNPwz76kPkXJfJMh82OCzA96Mr+qkfllu6Yo6kiLgqgiLYuhhvQohArSswjRyBYFwpAtBzdHRvyrzWYSeF24z0bgzubWAQGcWxeEcOadEMSZdUMYV92RDnBVSHJvxrvm3045Lsi7IXayIO+W5smCvJvSJwtSfVbwBNL9hozXmOmOAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADQSURBVHgB5ZbRCcMwDEQvmSAjZISO4A3ajTpCskG7QidpN0g2ucrYUJqPRpYpyOSBwGD5xVz8IWADySA1SS388JS6SY2oxK1fNod8cI8JBtz7c0paYu+AAlz7qUtui/pPufbLYqSdoLica38vjivsXBQ9rv0xgBPsnBU9rv1dfAeooBN+7Xv39zg4MYAVdl6KnhV2/u6PATxgR3NB336m0dHKuPeFJvyymFnODCXu/UxzdNEoiQKa8VOXZOwpmtOb8jONlnd+J7rkgwGVePO/ATT8sfY1AxLgAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANoSURBVHgB7ZqNURsxEIWfXYFTQa6DkAq4DkIHcQl0gDuADhwqIKngnAogFeg6gFTwssrJg4eAtPJIOhHrm9mxBx269dNKWv0AjVdZIDEkO/noxT6J2e9nYitnlidno9iD2C/7uVgsHvC/IWL0YtdihsdjxLZiZ3jvOEEGpmcQW+O9kVGQlxhOXbNuxMkVpy5TGvvOFWrEtpzYPefDsLboEYfOxB45P4a1DM6sR5RDviIz3jyGU+sMeM5BtNg85RZTnmLtSfKU0dVp6+qcXYidu++xfJ4l9+E0phjGcSfWIxJOs9w3xmGjuENpIkUZUjjJqTFiBDIsOVvJy66UjtlWu0RibJ3Uj2vXKIFrNW1rZZshGNeVe+SGulzFsED/jhBnQE7kBWvqKJZLUJ8u9MgFdeuf5GOKwq9LhV95ooa6seUOM6FstB6p4bQXEqLDTCgb7gapYXiQ22JmGM5xHpESTgNciB4zwylDDpFkYli6z1Blo6xLdpgZ58MYeKxHArTC7FAPPwLln5CApbKykDMl2QXKk3alLvDciHoIbTUkWVQulZWNqIenQHmHBPzdqLJDufchARVRwt8lGq+yF8YbntJAH3FiqIQRPqASFAnciATshQmN9DWdJ3eB8hEJ2AvzO/BcTcL0gfLQb1GhjZgvqIfzQPkOqaBuSd9jZpR+po1uhrcPa9h22AZ8NEiNVHrDMB1mgrpoSd941O115N2N9/u3VfjXIwesdzNcc3qRvhsdOKCJGjsWlTw+6ag7PlkjJ9RFjWFdB275ouXAGU3UZBeHcUe0ZSKYuhnKYkN8jcRInRfUH+qnPzLxOLZi3DWQLdNdA7mLeK9h6UuL1A96LwWKDms+X6COeV/Wi0Oaq2b3iGcU+y72E9PRy8NBnfvr87Zuu+7pcfwidS1132IOqL8BUQNXKAnrubmp8aG4OMdcVkyJcT5oIri4OHa20k7lKbHvXB34oaGsOM4x27UM8zPwlYVhxP+XF8c5aMPaMD0DPStlxjGPOM7R/QVmw+OxA+sNFVsH8syGccwnzoHTtpvZO3M2gx3eEMv+zd4O3bpnj0kK3584pWjieGjieGjieGjieGjieGjieGjieGjieGjieGjieGjieIgVB6dEjDg4NZTibHCKBMTZ4JR5Q5wNGv+Iszks+wNlma1sSNwuigAAAABJRU5ErkJggg==\""],"sourceRoot":""}